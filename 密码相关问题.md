#目前密码设计的问题

##逻辑梳理
RSA加密指的是前端后端共有一个外界不可见的私钥，在每次需要传输一个需要加密的信息时，前端向后端发送一个请求，后端在接收到这个请求之后向前端发送一个公钥。前端收到这个公钥之后，通过明文+公钥+私钥，共同形成一个密文，再将该密文传送给后端。后端获得该密文后，通过私钥和刚才传送给前端的公钥，解出明文并和数据库中的数据进行比较。

##目前实现
前端完成了一个固定私钥的加密过程，将该密码传给后端。后端没有进行任何加密解密相关的工作，只是一个匹配，相同返回正确不同返回错误。这个过程的加密是完全没有意义的，黑客抓取到数据包中的已加密部分就是后端数据库中存储的内容，可以通过伪造包的方式直接跳过密码阶段。

##需要实现

###1. 当前端发送一个登录请求之后，后端需要随机给前端发送一个符合RSA规则的公钥。可以手动生成五个固定的公钥，接收到登录请求后随机发回一个公钥。

###2. 发送公钥后，收到前端传输过来的密文，后端通过已有的公钥和私钥对该密文进行解密，并和数据库中的内容进行比对，相同返回正确不同返回错误。

###3. 部分可能出现的问题答疑
数据库中存储的不会是明文，而是前端密码通过哈希之后的结果，数据库被攻破并不会导致密码泄漏。

前端加密过程：明文密码 -> 哈希加密 -> RSA加密 -> 传输的密文

后端解密过程：传输的密文 -> RSA解密 -> 数据库比对

后端需要调用一个RSA相关的库，实现拥有公钥和私钥的解密过程